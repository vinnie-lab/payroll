<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Zephyra Payroll System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- ===== Sidebar ===== -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Zephyra</h2>
                <!-- ADD THIS BUTTON -->
                <button class="sidebar-close-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
                </button>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" class="active"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg><span>Dashboard</span></a></li>
                    <li><a href="employee-management.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span>Employees</span></a></li>
                    <li><a href="departments.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg><span>Departments</span></a></li>

                   
                    <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.58l7-7c.37-.36.59-.86.59-1.41s-.22-1.05-.59-1.42zM13 20.99l-9-9V4h7l9 9-7 7.01z"/><circle cx="6.5" cy="6.5" r="1.5"/></svg><span>Run Payroll</span></a></li>
                    <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg><span>Payroll History</span></a></li>
                    <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5S13.5 3.62 13.5 5v10.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5V6H9v9.5c0 1.93 1.57 3.5 3.5 3.5s3.5-1.57 3.5-3.5V5c0-2.21-1.79-4-4-4S5 2.79 5 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"/></svg><span>Deductions & Benefits</span></a></li>

                    
                    <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.85 22.25h-3.7c-.74 0-1.36-.54-1.45-1.28l-.27-1.89c-.27-.14-.53-.29-.79-.46l-1.8.72c-.7.26-1.47-.02-1.81-.65L2.2 15.53c-.35-.66-.2-1.44.36-1.88l1.53-1.19c-.01-.15-.02-.3-.02-.46 0-.15.01-.31.02-.46L2.56 10.35c-.55-.43-.7-1.21-.36-1.88l1.83-3.21c.34-.62 1.11-.9 1.81-.65l1.8.72c.26-.17.52-.32.79-.46l.27-1.9c.09-.7.71-1.25 1.45-1.25h3.7c.74 0 1.36.54 1.45 1.25l.27 1.89c.27.14.53.29.79.46l1.8-.72c.71-.26 1.48.02 1.81.65l1.83 3.21c.35.66.2 1.44-.36 1.88l-1.53 1.19c.01.15.02.3.02.46s-.01.31-.02.46l1.53 1.19c.55.43.7 1.21.36 1.88l-1.83 3.21c-.34.63-1.11.9-1.81.65l-1.8-.72c-.26.17-.52.32-.79.46l-.27 1.9c-.09.74-.71 1.28-1.45 1.28zM12 15.5c1.93 0 3.5-1.57 3.5-3.5s-1.57-3.5-3.5-3.5-3.5 1.57-3.5 3.5 1.57 3.5 3.5 3.5z"/></svg><span>Settings</span></a></li>
                    <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-1-5h2v2h-2zm0-8h2v6h-2z"/></svg><span>Help / Support</span></a></li>
                </ul>
            </nav>
        </aside>

        <!-- ===== Main Content ===== -->
        <main class="main-content">
            <header class="main-header">
                <div class="menu-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
                </div>
                <h1>Admin Dashboard</h1>
            </header>

            
            
            <div class="content-body">
                <!-- Summary Widgets -->
                <section class="summary-widgets">
                    <div class="widget-card">
                        <h3>Employees</h3>
                        <p class="widget-value">150</p>
                        <span class="widget-status success">+2 this month</span>
                    </div>
                    <div class="widget-card">
                        <h3>Payments</h3>
                        <p class="widget-value">KSh 1,200,000</p>
                        <span class="widget-status">Processed</span>
                    </div>
                    
                </section>

                <!-- Charts Section -->
                <section class="charts-section">
                    <div class="card">
                        <h3>Monthly Payroll Trends</h3>
                        <div class="chart-placeholder">
                            <p class="chart-label"><canvas id="monthlyPayrollChart" ></canvas></p>
                        </div>
                    </div>
                    <div class="card">
                        <h3> Salary By Department</h3>
                        <div class="chart-placeholder">
                            <p class="chart-label"><canvas id="departmentSalaryChart" ></canvas></p>
                        </div>
                    </div>
                </section>

                <!-- Activity & Actions Section -->
                <section class="activity-section">
                    <div class="card">
                        <h3>Recent Activity</h3>
                        <ul class="activity-log">
                            <li><strong>Admin (Amonde)</strong> added a new employee: <strong>Clinton Amonde</strong>. <span>2h ago</span></li>
                            <li>Payroll run for <strong>June 2025</strong> was completed successfully. <span>10 days ago</span></li>
                            <li><strong>Leordnad Oyungu</strong>'s contract status was updated <strong></strong>. <span>1d ago</span></li>
                            <li>System backup completed. <span>1d ago</span></li>
                        </ul>
                    </div>
                    
                    <div class="side-panel">
                        <div class="card">
                            <h3>Notifications</h3>
                            <ul class="notification-list">
                                <li class="alert-danger">Payroll for July is pending approval.</li>
                                <li class="alert-warning">2 employee requested profile update. <a href="profile_updates.html">Update Now</a></li>
                            </ul>
                        </div>
                        <div class="card">
                            <h3>Quick Actions</h3>
                            <div class="quick-actions">
                                <button class="btn btn-primary">Run Payroll Now</button>
                                <a href="add-employee.html" class="btn btn-secondary">Add New Employee</a>
                                <button class="btn btn-secondary">Download Reports</button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/myCharts.js"></script>


    <!-- Add script here to toggle a class on .dashboard-container for mobile menu -->
    <script>
        document.querySelector('.menu-toggle').addEventListener('click', () => {
            document.querySelector('.dashboard-container').classList.toggle('sidebar-visible');
        });

    </script>
    <script>
        
// --- Sidebar Toggle Logic ---
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.querySelector('.menu-toggle');
        const sidebarCloseBtn = document.querySelector('.sidebar-close-btn');
        const dashboardContainer = document.querySelector('.dashboard-container');
        const sidebar = document.querySelector('.sidebar');

        // Ensure all elements exist before adding listeners
        if (menuToggle && sidebarCloseBtn && dashboardContainer && sidebar) {
            
            // Function to open the sidebar
            const openSidebar = () => {
                dashboardContainer.classList.add('sidebar-visible');
            };

            // Function to close the sidebar
            const closeSidebar = () => {
                dashboardContainer.classList.remove('sidebar-visible');
            };

            // --- Event Listeners ---

            // 1. Click hamburger icon to OPEN
            menuToggle.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevents the document click listener from firing
                openSidebar();
            });

            // 2. Click 'X' button to CLOSE
            sidebarCloseBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                closeSidebar();
            });

            // 3. Click OUTSIDE the sidebar to CLOSE
            document.addEventListener('click', (e) => {
                // Check if the sidebar is visible and the click was outside the sidebar itself
                if (dashboardContainer.classList.contains('sidebar-visible') && !sidebar.contains(e.target)) {
                    closeSidebar();
                }
            });
        }
    });
    </script>
</body>
</html>